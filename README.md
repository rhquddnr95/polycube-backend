### # 핵심 포인트
요구사항이 빈번하게 변화하는 신규 서비스 환경에서 변경에 유연하고 데이터의 신뢰성을 보장하는 구조를 설계하는 데 집중했습니다.

### 🏗️ 변화에 대응하는 OCP(Open-Closed Principle)
* **문제 상황**: 서비스 초기 단계라 회원 등급별 할인 정책이 수시로 추가되거나, 변동성이 매우 큽니다. 
* **해결 방안**: 결제 서비스(PaymentService)가 구체적인 할인 로직을 직접 들고 있지 않게 설계했습니다. 대신 DiscountPolicy라는 인터페이스를 두고, 각 등급별 로직을 별도 클래스로 격리했습니다. 
* **결과**: 새로운 등급(예: GOLD)이 추가되거나 기존 VVIP 할인율이 바뀌어도, 기존의 결제 핵심 서비스 로직은 수정할 필요가 없습니다.

### 🔒 데이터 불변성: Record 활용
신규 서비스일수록 데이터 정합성이 중요합니다. 주문(Order)이나 회원(Member)처럼 도메인 간에 전달되는 데이터가 도중에 수정되어 버그가 발생하는 것을 방지하기 위해 Java 17의 record를 적극 도입했습니다. 한 번 생성된 데이터는 결제가 완료될 때까지 상태가 변하지 않음을 보장하므로, 비즈니스 로직이 헤비해 지더라도 데이터의 신뢰도를 유지할 수 있습니다.

### 📜 이력 관리 전략: Snapshot & Audit
* **결제 당시의 기록 보존 (Snapshot)**: 예를들어 상품명이 바뀌더라도 과거 결제 내역에는 '결제 당시의 상품명과 금액'이 그대로 남아 있기 위해 Payment 엔티티에 당시 정보를 모두 복사하여 저장하는 스냅샷 방식을 채택했습니다. 
* **자동 이력 기록**: 별도의 로그 코드를 작성하지 않고도 BaseTimeEntity를 통해 결제 일시가 자동으로 기록되도록 구성하여 관리 효율을 높였습니다.

---

### 🛠️ 기술 스택
* **Language**: Java 17
* **Framework**: Spring Boot 3.4.3
* **DB**: H2 Database (In-memory)
* **ORM**: Spring Data JPA
* **Test**: JUnit 5, AssertJ

---

### 💡 실행 방법
1. **프로젝트를 빌드합니다**: `./gradlew build`
2. **애플리케이션을 실행합니다**: `BackendApplication` 실행
3. **H2 콘솔 확인**: [http://localhost:8080/h2-console](http://localhost:8080/h2-console) (JDBC URL: `jdbc:h2:mem:testdb`)
